(()=>{"use strict";const e=class{static selector(){return"[data-skip-link]"}constructor(e){this.skipLink=e,this.main=document.querySelector("main"),this.skipLink&&this.main&&this.skipLink.addEventListener("click",(()=>this.handleClick()))}handleClick(){this.main.setAttribute("tabindex",-1),this.main.addEventListener("blur",(()=>this.handleBlur())),this.main.addEventListener("focusout",(()=>this.handleBlur())),this.main.focus()}handleBlur(){this.main.removeAttribute("tabindex"),this.main.removeEventListener("blur",this.handleBlur),this.main.removeEventListener("focusout",this.handleBlur)}};!function(){const e=document.querySelectorAll("[data-form]"),t=document.querySelector("[data-save]"),a=document.querySelector("[data-cancel]"),n=document.querySelector("[data-edit]"),o=document.getElementById("clear"),c=document.querySelector("[data-name-heading]"),r=document.querySelector("[data-status-container"),i=document.querySelector("[data-mode]").getAttribute("data-mode"),l=[],d="NSHCS-TMS-store",s=JSON.parse(localStorage.getItem(d))||[];class m{constructor(e,t,a,n,o,c){this.id=e,this.dataName=t,this.status=a,this.type=n,this.value=o,this.checked=c}}function u(){s&&s.forEach((e=>{if(e.status&&e.checked){const t=document.createElement("div");t.textContent=e.value,t.classList.add("tag","tag--green"),r.appendChild(t)}const t=document.querySelector(`[data-form='${e.dataName}']`);t&&("name"===e.dataName&&(c.textContent=e.value,t.checked=e.checked),"edit"===i?(t.value=e.value,"radio"!==e.type&&"checkbox"!==e.type||e.checked&&(t.checked=!0)):(t.textContent=e.value,"email"===e.type&&(t.innerHTML=`<a href=mailto:${e.value}>${e.value}</a>`),"checkbox"===e.type&&(t.textContent=e.checked?"Yes":"No"),"radio"===e.type&&(t.textContent="",e.checked&&(t.textContent=e.value))))})),"view"===i&&(document.querySelectorAll("[data-date]").forEach((e=>{const t=3===e.childElementCount?"full":"reduced",a=e.textContent.replace(/\s+/g,"-").replace(/(^\-+|\-+$)/gm,"");e.innerHTML=new Date(a).toLocaleDateString("en-GB","full"===t?{year:"numeric",month:"long",day:"numeric"}:{year:"numeric",month:"long"}),"Invalid Date"===e.innerHTML&&e.parentNode.remove()})),document.querySelectorAll("[data-form]").forEach((e=>{0===e.textContent.length&&e.parentNode.remove()})))}t&&t.addEventListener("click",(()=>{var t;t=!0,localStorage.setItem(d,JSON.stringify((e.forEach(((e,t)=>{const a=document.querySelector(`[data-form='${e.dataset.form}']`),n=new m(t,a.dataset.form,a.dataset.status,a.type,a.value,a.checked);l.push(n)})),l))),t&&window.location.replace(window.location.pathname.replace(/\/[^\/]*$/,"/view.html"))})),a&&a.addEventListener("click",(()=>{u(),window.location.replace(window.location.pathname.replace(/\/[^\/]*$/,"/view.html"))})),o&&o.addEventListener("click",(()=>{localStorage.removeItem(d),window.location.replace(window.location.pathname.replace(/\/[^\/]*$/,"/index.html"))})),n&&n.addEventListener("click",(()=>{window.location.replace(window.location.pathname.replace(/\/[^\/]*$/,"/index.html"))})),document.addEventListener("DOMContentLoaded",(()=>{u()}))}(),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),document.addEventListener("DOMContentLoaded",(()=>{var t;t=e,document.querySelectorAll(t.selector()).forEach((e=>new t(e)))}))})();