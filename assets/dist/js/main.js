(()=>{"use strict";const e=class{static selector(){return"[data-skip-link]"}constructor(e){this.skipLink=e,this.main=document.querySelector("main"),this.skipLink&&this.main&&this.skipLink.addEventListener("click",(()=>this.handleClick()))}handleClick(){this.main.setAttribute("tabindex",-1),this.main.addEventListener("blur",(()=>this.handleBlur())),this.main.addEventListener("focusout",(()=>this.handleBlur())),this.main.focus()}handleBlur(){this.main.removeAttribute("tabindex"),this.main.removeEventListener("blur",this.handleBlur),this.main.removeEventListener("focusout",this.handleBlur)}};!function(){const e=document.querySelectorAll("[data-form]"),t=document.querySelectorAll("[data-save]"),a=document.querySelector("[data-cancel]"),d=document.querySelectorAll("[data-edit]"),i=document.getElementById("clear"),c=document.querySelector("[data-name-heading]"),r=document.querySelector("[data-status-container"),n=document.querySelector("[data-mode]").getAttribute("data-mode"),o=[],l="NSHCS-TMS-store",s=JSON.parse(localStorage.getItem(l))||[{id:0,dataName:"status-active-ft",status:"true",type:"checkbox",value:"Active - FT",checked:!1},{id:1,dataName:"status-parental-leave",status:"true",type:"checkbox",value:"Parental leave",checked:!1},{id:2,dataName:"status-left",status:"true",type:"checkbox",value:"Left",checked:!1},{id:3,dataName:"status-active-pt",status:"true",type:"checkbox",value:"Active - PT",checked:!1},{id:4,dataName:"status-sickness",status:"true",type:"checkbox",value:"Sickness",checked:!1},{id:5,dataName:"status-failed",status:"true",type:"checkbox",value:"Failed",checked:!1},{id:6,dataName:"status-passed",status:"true",type:"checkbox",value:"Passed",checked:!1},{id:7,dataName:"status-defer-suspend",status:"true",type:"checkbox",value:"Defer / Suspend",checked:!1},{id:8,dataName:"status-withdrawn",status:"true",type:"checkbox",value:"Withdrawn",checked:!1},{id:9,dataName:"status-preregistration",status:"true",type:"checkbox",value:"Preregistration",checked:!1},{id:10,dataName:"status-resit",status:"true",type:"checkbox",value:"Resit",checked:!1},{id:11,dataName:"status-deceased",status:"true",type:"checkbox",value:"Deceased",checked:!1},{id:12,dataName:"status-career-break",status:"true",type:"checkbox",value:"Career break",checked:!1},{id:13,dataName:"status-dismissed",status:"true",type:"checkbox",value:"Dismissed",checked:!1},{id:14,dataName:"status-covid19-interruption",status:"true",type:"checkbox",value:"COVID19 interruption",checked:!1},{id:15,dataName:"name",type:"text",value:"Victoria Thomas",checked:!1},{id:16,dataName:"dob-day",type:"text",value:"03",checked:!1},{id:17,dataName:"dob-month",type:"text",value:"09",checked:!1},{id:18,dataName:"dob-year",type:"text",value:"1995",checked:!1},{id:19,dataName:"address-1",type:"text",value:"72 Guild Street",checked:!1},{id:20,dataName:"address-2",type:"text",value:"",checked:!1},{id:21,dataName:"address-3",type:"text",value:"London",checked:!1},{id:22,dataName:"address-4",type:"text",value:"",checked:!1},{id:23,dataName:"address-5",type:"text",value:"SE23 6FH",checked:!1},{id:24,dataName:"work-telephone",type:"text",value:"0121 496 0316",checked:!1},{id:25,dataName:"personal-telephone",type:"text",value:"07700 900452",checked:!1},{id:26,dataName:"work-email",type:"email",value:"v.thomas@nhsmail.net",checked:!1},{id:27,dataName:"preferred-1",preferred:"true",type:"radio",value:"Yes",checked:!0},{id:28,dataName:"academic-email",type:"email",value:"vthomas4@sheffhallam.ac.uk",checked:!1},{id:29,dataName:"preferred-2",preferred:"true",type:"radio",value:"Yes",checked:!1},{id:30,dataName:"personal-email",preferred:"true",type:"email",value:"supervikstick@madeupmail.com",checked:!1},{id:31,dataName:"preferred-3",type:"radio",value:"Yes",checked:!1},{id:32,dataName:"programme",type:"select-one",value:"HSST - Higher Specialist Scientist Training"},{id:33,dataName:"start-date-1",type:"text",value:"09",checked:!1},{id:34,dataName:"start-date-2",type:"text",value:"2020",checked:!1},{id:35,dataName:"exit-date-1",type:"text",value:"08",checked:!1},{id:36,dataName:"exit-date-2",type:"text",value:"2025",checked:!1},{id:37,dataName:"entry-type",type:"select-one",value:"Direct"},{id:38,dataName:"funding-provider",type:"select-one",value:"Self"},{id:39,dataName:"specialism",type:"select-one",value:"Gastrointestinal Physiology"},{id:40,dataName:"hei",type:"select-one",value:"Sheffield Hallam University"},{id:41,dataName:"training-name",type:"text",value:"Ray Purchase",checked:!1},{id:42,dataName:"contracts-training-from-day",type:"text",value:"21",checked:!1},{id:43,dataName:"contracts-training-from-month",type:"text",value:"09",checked:!1},{id:44,dataName:"contracts-training-from-year",type:"text",value:"2020",checked:!1},{id:45,dataName:"training-current",type:"checkbox",value:"off",checked:!1},{id:46,dataName:"contracts-training-to-day",type:"text",value:"12",checked:!1},{id:47,dataName:"contracts-training-to-month",type:"text",value:"03",checked:!1},{id:48,dataName:"contracts-training-to-year",type:"text",value:"2022",checked:!1},{id:49,dataName:"training-email",type:"email",value:"r.purchase@nhsmail.net",checked:!1},{id:50,dataName:"training-telephone",type:"text",value:"0121 496 8754",checked:!1},{id:51,dataName:"training-head-of-department-name",type:"text",value:"Jasmine Morris",checked:!1},{id:52,dataName:"training-head-of-department-from-day",type:"text",value:"21",checked:!1},{id:53,dataName:"training-head-of-department-from-month",type:"text",value:"09",checked:!1},{id:54,dataName:"training-head-of-department-from-year",type:"text",value:"2020",checked:!1},{id:55,dataName:"current",type:"checkbox",value:"off",checked:!0},{id:56,dataName:"training-head-of-department-to-day",type:"text",value:"12",checked:!1},{id:57,dataName:"training-head-of-department-to-month",type:"text",value:"03",checked:!1},{id:58,dataName:"training-head-of-department-to-year",type:"text",value:"2022",checked:!1},{id:59,dataName:"training-head-of-department-email",type:"email",value:"j.morris@nhsmail.net",checked:!1},{id:60,dataName:"training-head-of-department-telephone",type:"text",value:"0121 496 6235",checked:!1},{id:61,dataName:"training-trust",type:"select-one",value:"Sheffield Training Hospitals Trust"},{id:62,dataName:"training-hospital-site",type:"select-one",value:"Sheffield Hallam Hospital"},{id:63,dataName:"training-from-day",type:"text",value:"21",checked:!1},{id:64,dataName:"training-from-month",type:"text",value:"09",checked:!1},{id:65,dataName:"training-from-year",type:"text",value:"2020",checked:!1},{id:66,dataName:"training-to-day",type:"text",value:"",checked:!1},{id:67,dataName:"training-to-month",type:"text",value:"",checked:!1},{id:68,dataName:"training-to-year",type:"text",value:"",checked:!1},{id:69,dataName:"qualification-type",type:"select-one",value:"Undergraduate"},{id:70,dataName:"institution",type:"select-one",value:"Nottingham Trent University"},{id:71,dataName:"subject",type:"text",value:"History",checked:!1},{id:72,dataName:"mark",type:"select-one",value:"1st"},{id:73,dataName:"year",type:"text",value:"",checked:!1},{id:74,dataName:"verified-yes",type:"radio",value:"Yes",checked:!0},{id:75,dataName:"verified-no",type:"radio",value:"No",checked:!1}];class u{constructor(e,t,a,d,i,c,r){this.id=e,this.dataName=t,this.status=a,this.preferred=d,this.type=i,this.value=c,this.checked=r}}function m(){s&&s.forEach((e=>{if(e.status&&e.checked){const t=document.createElement("div");t.textContent=e.value,t.classList.add("tag","tag--green"),r.appendChild(t)}const t=document.querySelector(`[data-form='${e.dataName}']`);t&&("name"===e.dataName&&(c.textContent=e.value,t.checked=e.checked),"edit"===n?(t.value=e.value,"radio"!==e.type&&"checkbox"!==e.type||e.checked&&(t.checked=!0)):(t.textContent=e.value,"email"===e.type&&e.value&&(t.innerHTML=`<a href=mailto:${e.value}>${e.value}</a>`),"checkbox"===e.type&&(t.textContent=e.checked?"Yes":"No"),"radio"===e.type&&(t.textContent="",e.checked&&(e.preferred?t.innerHTML='<div\n                                            class="tag tag--light-blue tag--width-auto"\n                                        >Preferred</div>':t.textContent=e.value))))})),"view"===n&&(document.querySelectorAll("[data-date]").forEach((e=>{const t=3===e.childElementCount?"full":"reduced",a=e.textContent.replace(/\s+/g,"-").replace(/(^\-+|\-+$)/gm,"");e.innerHTML=new Date(a).toLocaleDateString("en-GB","full"===t?{year:"numeric",month:"long",day:"numeric"}:{year:"numeric",month:"long"}),"Invalid Date"===e.innerHTML&&e.parentNode.remove()})),document.querySelectorAll("[data-form]").forEach((e=>{"true"===e.getAttribute("data-no-hide")||0===e.textContent.length&&e.parentNode.remove()})))}t&&t.forEach((t=>{t.addEventListener("click",(()=>{localStorage.setItem(l,JSON.stringify((e.forEach(((e,t)=>{const a=document.querySelector(`[data-form='${e.dataset.form}']`),d=new u(t,a.dataset.form,a.dataset.status,a.dataset.preferred,a.type,a.value,a.checked);o.push(d)})),o)));const a=t.getAttribute("data-save");window.location.replace(window.location.pathname.replace(/\/[^\/]*$/,`/${a}-view.html`))}))})),d&&d.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-edit");window.location.replace(window.location.pathname.replace(/\/[^\/]*$/,`/${t}-edit.html`))}))})),a&&a.addEventListener("click",(()=>{m();const e=a.getAttribute("data-cancel");window.location.replace(window.location.pathname.replace(/\/[^\/]*$/,`/${e}-view.html`))})),i&&i.addEventListener("click",(()=>{localStorage.removeItem(l)})),document.addEventListener("DOMContentLoaded",(()=>{m()}))}(),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),document.addEventListener("DOMContentLoaded",(()=>{var t;t=e,document.querySelectorAll(t.selector()).forEach((e=>new t(e)))}))})();